# ========================================
# 化学物质猜测测试 - 服务端环境变量配置
# Chemistry Guessr Server - Environment Variables
# ========================================

# ----- 基础配置 (Basic Configuration) -----
# 服务器端口
PORT=3000

# 客户端 URL（前端部署地址）
# 本地开发: http://localhost:5173
# 生产环境: https://your-frontend-domain.com
CLIENT_URL=http://localhost:5173

# 服务器 URL（后端部署地址）
# 本地开发: http://localhost:3000
# 生产环境: https://your-backend-domain.com
SERVER_URL=http://localhost:3000

# 备用客户端 URL（可选，用于多域名支持）
CLIENT_URL_EN=http://localhost:5173


# ----- 题库配置 (Question Bank Configuration) -----
# 优先级: CHEM_XLSX_URL > CHEM_CSV_URL > CHEM_XLSX_PATH > 本地 JSON

# 在线 CSV 题库 URL（腾讯文档/Google Sheets 导出的 CSV 公开链接）
# 示例: https://docs.qq.com/sheet/xxxxx?tab=xxxxx&c=A1:H100&export=csv
CHEM_CSV_URL=

# 在线 XLSX 题库 URL（Excel 文件直链）
# 示例: https://example.com/chemistry_questions.xlsx
CHEM_XLSX_URL=

# 本地 XLSX 题库路径（相对于 server/ 目录）
# 默认: ../data/chemistry_questions.xlsx
CHEM_XLSX_PATH=

# 题库洗牌袋大小（防止短时间内重复出题）
# 默认: 30（从题库中随机抽取30题放入袋中，用完再重新洗牌）
CHEM_BAG_SIZE=30


# ----- 数据库配置 (Database Configuration) -----
# MongoDB 连接字符串（可选，用于高级功能）
# 示例: mongodb+srv://username:password@cluster.mongodb.net/chemistry-guessr
MONGODB_URI=

# 数据库名称
DB_NAME=chemistry-guessr


# ----- 排行榜配置 (Leaderboard Configuration) -----
# 排行榜存储方式: file | mongodb
# file: 使用本地文件存储（适合小规模部署）
# mongodb: 使用 MongoDB 存储（适合多实例部署）
LEADERBOARD_STORAGE=file

# 排行榜文件路径（当 LEADERBOARD_STORAGE=file 时使用）
LEADERBOARD_FILE_PATH=./data/leaderboard.json


# ----- 安全配置 (Security Configuration) -----
# 管理员 API 密钥（用于刷新题库等管理操作）
# 生成方法: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ADMIN_API_KEY=

# CORS 允许的额外域名（逗号分隔）
# 示例: https://example1.com,https://example2.com
ADDITIONAL_CORS_ORIGINS=


# ----- 日志与监控 (Logging & Monitoring) -----
# 日志级别: debug | info | warn | error
LOG_LEVEL=info

# 是否启用详细日志
VERBOSE_LOGGING=false


# ----- 性能优化 (Performance Optimization) -----
# 题库缓存时间（秒）
# 从远程加载题库后的缓存时间，避免频繁请求
QUESTION_CACHE_TTL=3600

# Socket.IO 配置
# 最大连接数（0 表示无限制）
MAX_CONNECTIONS=0


# ----- 开发环境配置 (Development Only) -----
# Node 环境: development | production
NODE_ENV=development

# 是否启用热重载（开发环境）
ENABLE_HOT_RELOAD=true